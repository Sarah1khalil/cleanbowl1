<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recipes - CleanBowl</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav>
      <div class="logo">CleanBowl</div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">Diseases & Foods</a></li>
        <li><a href="">Recipes</a></li>
        <li><a href="add-recipe.html">Add Recipe</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <section class="recipes">
    <h1>Healthy Recipes</h1>

    <!-- Search Bars -->
    <div class="search-bar-container">
      <input type="text" id="recipeSearch" placeholder="Search for Recipes...">
      <button id="recipeSearchBtn">Search Recipes</button>
      <input type="text" id="calorieSearch" placeholder="Search by Calories...">
      <button id="calorieSearchBtn">Search by Calories</button>
    </div>

    <div id="searchMessage"></div> <!-- Message to show which search the user is making -->

    <div id="recipe-list"></div> <!-- Recipes will be injected here -->
  </section>
  
  <div id="nutrition-info">
    <!-- Nutrition info will be displayed here -->
  </div>

  <footer>
    <p>&copy; 2025 CleanBowl</p>
  </footer>

  <script > //recipe page 
    const recipeSearchButton = document.getElementById("recipeSearchBtn");
    const nutritionSearchButton = document.getElementById("calorieSearchBtn");
    

    
    // Recipe Search
    fetch('https://api.edamam.com/api/recipes/v2?type=public&q=chicken&app_id=7cfd6ac6&app_key=2567c52b071ba71cab42268d0d0e58f5', {
        method: 'GET',
        headers: {
          'Edamam-Account-User': 'sarah1khalil'
        }
      })
        .then(response => response.json())
        // .then(data => console.log(data))
        // .catch(error => console.error('Error fetching recipe:', error));
        .then(data => {
            if (data.hits) {
                displayRecipeResults(data.hits); // Assuming 'hits' contains the recipes
            } else {
                console.error('No recipes found');
            }
        })
        .catch(error => console.error('Error fetching recipe:', error));
    
    // Nutrition Search
    nutritionSearchButton.addEventListener('click', () => {
      const query = document.getElementById("calorieSearch").value;
      fetch(`https://api.calorieninjas.com/v1/nutrition?query=${query}`, {
        method: "GET",
        headers: {
          "X-Api-Key": "lQr2EdvDcnH+O3JATJysg==tW07VueuFsAIREtY"
        }
      })
      
        .then(response => response.json())
        .then(data => {
          console.log(data);
          displayNutritionResults(data); // Display nutrition info
        })
        .catch(error => console.error('Error fetching nutrition info:', error));
    });
    
    // Function to display recipe results
    function displayRecipeResults(recipes) {
      const resultsDiv = document.getElementById('recipe-list');
      resultsDiv.innerHTML = ''; // Clear previous results
      recipes.forEach(recipe => {
        const recipeCard = document.createElement('div');
        recipeCard.classList.add('recipe-card');
        recipeCard.innerHTML = `
          <h3>${recipe.title}</h3>
          <img src="${recipe.image}" alt="${recipe.title}" />
          <p>Ready in ${recipe.readyInMinutes} minutes</p>
          <a href="https://spoonacular.com/recipes/${recipe.id}" target="_blank">View Recipe</a>
        `;
        resultsDiv.appendChild(recipeCard);
      });
    }
    
    // Function to display nutrition results
    function displayNutritionResults(ingredients) {
      const resultsDiv = document.getElementById('nutrition-info');
      resultsDiv.innerHTML = ''; // Clear previous results
      ingredients.forEach(item => {
        const nutritionCard = document.createElement('div');
        nutritionCard.classList.add('nutrition-card');
        nutritionCard.innerHTML = `
          <h3>${item.name}</h3>
          <p>Calories: ${item.nutrition.calories} kcal</p>
          <p>Protein: ${item.nutrition.protein} g</p>
          <p>Carbs: ${item.nutrition.carbs} g</p>
          <p>Fat: ${item.nutrition.fat} g</p>
        `;
        resultsDiv.appendChild(nutritionCard);
      });
    }</script>
</body>
</html>
